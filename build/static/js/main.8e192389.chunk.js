(this["webpackJsonpshlee-dashboard"]=this["webpackJsonpshlee-dashboard"]||[]).push([[0],{220:function(e,t,a){},268:function(e,t,a){e.exports=a(461)},436:function(e,t,a){},461:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(36),o=a.n(c);a(273);var l=a(47),u=a(479),i=a(480),s=a(124),f=a(80),m=a(472),d=a(470),p=a(474),b=a(52),h=a(46),j="/auth/login",v="/",g="/",O="/project",y="Request",E="Success",x="Fail",k="Login",w="NotLogin",S=Symbol("FETCH_KEY"),C=Symbol("FETCH_PAGE"),I="\ub85c\uadf8\uc544\uc6c3",P="\ub300\uc2dc\ubcf4\ub4dc",M="\ud504\ub85c\uc81d\ud2b8",L="\ud648",F="\ud504\ub85c\uc81d\ud2b8",U="\ud504\ub85c\uc81d\ud2b8 \ub9ac\uc2a4\ud2b8",T="\ud504\ub85c\uc81d\ud2b8 \ucd94\uac00",V="Action",N="\uc218\uc815",q="\uc0ad\uc81c",R="\uc815\ub9d0\ub85c \uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",K="\uc0ad\uc81c\ub41c \ud504\ub85c\uc81d\ud2b8\ub294 \ub418\ub3cc\ub9b4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4",z="\uc0ad\uc81c",A="\ucde8\uc18c",H="\ud504\ub85c\uc81d\ud2b8 \uc0dd\uc131",G="\ud504\ub85c\uc81d\ud2b8 \uc218\uc815",B="Upload",W="\uc0dd\uc131",$="\uc218\uc815",_="\ucde8\uc18c",J="\uc815\ub9d0 \ucc3d\uc744 \ub2eb\uc73c\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",D="\ud604\uc7ac \uc791\uc5c5\uc911\uc778 \uc815\ubcf4\ub97c \uc783\uac8c \ub429\ub2c8\ub2e4. \ucc3d\uc744 \ub2eb\uc73c\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",Q="\ub2eb\uae30",Y="\ucde8\uc18c",X="Video url \ucd94\uac00",Z="\uc774 \uac12\uc740 \ud544\uc218\uc785\ub2c8\ub2e4",ee="\ube48 \uac12\uc740 \uc785\ub825\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4",te="${label} \uac12\uc5d0\ub294 \uc22b\uc790\ub97c \uc785\ub825\ud574\uc57c \ud569\ub2c8\ub2e4",ae="${min} \uc774\uc0c1\uc758 \uac12\uc744 \uc785\ub825\ud558\uc138\uc694",ne="\uc544\uc9c1 \uc5c5\ub85c\ub4dc \uc911\uc778 \ud30c\uc77c\uc774 \uc788\uc2b5\ub2c8\ub2e4",re="Title",ce="Thumbnail",oe="Header",le="Quick View Url",ue="Client",ie="Agency",se="Role",fe="Category",me="Header Image",de="Video Url",pe="Snapshot Column",be="Snapshots",he="\uc774\uba54\uc77c",je="\ube44\ubc00\ubc88\ud638",ve="\ub85c\uadf8\uc778",ge="\uc774\uba54\uc77c\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",Oe="\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694";var ye=a(40),Ee={setValue:Object(ye.b)("auth/setValue",(function(e,t){return{payload:{key:e,value:t}}})),setUser:Object(ye.b)("auth/setUser",(function(e){return{payload:e}})),fetchLogin:Object(ye.b)("auth/fetchLogin",(function(e){return{payload:{email:e.email,password:e.password}}})),fetchLogout:Object(ye.b)("auth/fetchLogout"),fetchUser:Object(ye.b)("auth/fetchUser")},xe=Object(ye.c)({status:null,user:null},(function(e){e.addCase(Ee.setValue,(function(e,t){var a=t.payload,n=a.key,r=a.value;e[n]=r})).addCase(Ee.setUser,(function(e,t){e.user=t.payload,e.status=t.payload?k:w}))}));var ke=a(85),we=a(57),Se=a(466),Ce=a(485),Ie=a(486),Pe=a(86),Me=a(165),Le=a(87);function Fe(e){var t=e.name,a=e.logout;return r.a.createElement(Me.a,{overlay:r.a.createElement(Le.a,null,r.a.createElement(Le.a.Item,{onClick:a},I)),trigger:["click"]},r.a.createElement(b.a,{type:"text",icon:r.a.createElement(u.a,null),style:{height:"100%"}},t))}var Ue,Te=a(483),Ve=a(481),Ne=a(482),qe=a(478),Re=a(473),Ke=a(469),ze=a(64),Ae=a(471),He=a(94);function Ge(){var e=Object(ke.a)(["\n  background: #fff;\n  margin-top: 3px;\n"]);return Ge=function(){return e},e}function Be(){var e,t=function(e){var t=e.split("/").filter((function(e){return!!e})),a=t.map((function(e,a){return"/".concat(t.slice(0,a+1).join("/"))}));return(a=["/"].concat(Object(ze.a)(a))).map((function(e){return{path:e,breadcrumbName:We[e]}}))}(Object(l.g)().pathname),a=We[null===(e=t[t.length-1])||void 0===e?void 0:e.path];return r.a.createElement($e,{title:a,breadcrumb:{routes:t,itemRender:function(e,t,a,n){return a.indexOf(e)===a.length-1?r.a.createElement("span",null,e.breadcrumbName):r.a.createElement(He.b,{to:e.path},e.breadcrumbName)}}})}var We=(Ue={},Object(we.a)(Ue,g,L),Object(we.a)(Ue,O,F),Ue),$e=Object(Pe.a)(Ae.a)(Ge());var _e={initialize:Object(ye.b)("project/initialze"),setValue:Object(ye.b)("project/setValue",(function(e,t){return{payload:{key:e,value:t}}})),addProject:Object(ye.b)("project/addProject",(function(e){return{payload:{project:e}}})),editProject:Object(ye.b)("project/editProject",(function(e){return{payload:{project:e}}})),fetchProjectList:Object(ye.b)("project/fetchProjectList"),fetchRemoveProject:Object(ye.b)("project/fetchRemoveProject",(function(e){return{payload:e}})),fetchMoveProject:Object(ye.b)("project/fetchMoveProject",(function(e,t){return{payload:{from:e,to:t}}})),fetchCreateProject:Object(ye.b)("project/fetchCreateProject",(function(e){return{payload:{callback:e}}})),fetchUpdateProject:Object(ye.b)("project/fetchUpdateProject",(function(e){var t,a=e.values,n=e.fetchKey,r=e.callback;return{payload:a,meta:(t={},Object(we.a)(t,S,n),Object(we.a)(t,"callback",r),t)}}))},Je={projectList:[],showProjectForm:!1,currentProjectId:null},De=Object(ye.c)(Je,(function(e){e.addCase(_e.initialize,(function(){return Je})).addCase(_e.setValue,(function(e,t){e[t.payload.key]=t.payload.value})).addCase(_e.addProject,(function(e,t){var a=t.payload.project;e.projectList=[a].concat(Object(ze.a)(e.projectList))})).addCase(_e.editProject,(function(e,t){var a=t.payload.project,n=e.projectList.findIndex((function(e){return e.id===a.id}));-1!==n&&(e.projectList[n]=a)}))})),Qe=a(65),Ye=a(102),Xe=function(e){return e.project.projectList},Ze=function(e){return e.project.currentProjectId},et=Object(Ye.a)(Xe,(function(e){return e.map((function(e){return Object(Qe.a)(Object(Qe.a)({},e),{},{key:e.id})}))})),tt=Object(Ye.a)(Xe,Ze,(function(e,t){return e.find((function(e){return e.id===t}))})),at=a(239),nt=(a(236),a(37)),rt=a.n(nt),ct=a(22),ot=a(237),lt=a.n(ot),ut=a(238),it=a.n(ut);function st(e){var t=e.method,a=void 0===t?"get":t,n=e.url,r=e.params,c=e.data;return it()({method:a,url:n,baseURL:"",params:r,data:c,withCredentials:!0}).then((function(e){var t=e;return void 0!==t.data.resultCode&&(t=e.data),t.resultCode!==ft.Fail?{isSuccess:!0,data:t.data}:{isSuccess:!1,errorMessage:t.resultMessage}})).catch((function(e){return{isSuccess:!1,errorMessage:e.message}}))}var ft={Fail:-1},mt={setFetchStatus:Object(ye.b)("common/setFetchStatus",(function(e){return{payload:e}})),setIsSlow:Object(ye.b)("common/setIsSlow",(function(e){return{payload:e}}))},dt=Object(ye.c)({fetchInfo:{fetchStatusMap:{},isSlowMap:{},totalCountMap:{},errorMessageMap:{},nextPageMap:{}}},(function(e){e.addCase(mt.setFetchStatus,(function(e,t){var a=t.payload,n=a.actionType,r=a.status,c=a.fetchKey;e.fetchInfo.fetchStatusMap[n]||(e.fetchInfo.fetchStatusMap[n]={}),e.fetchInfo.fetchStatusMap[n][c]=r,r!==y&&e.fetchInfo.isSlowMap[n]&&(e.fetchInfo.isSlowMap[n][c]=!1)})).addCase(mt.setIsSlow,(function(e,t){var a=t.payload,n=a.actionType,r=a.isSlow,c=a.fetchKey;e.fetchInfo.isSlowMap[n]||(e.fetchInfo.isSlowMap[n]={}),e.fetchInfo.isSlowMap[n][c]=r}))}));function pt(e,t){return rt.a.mark((function a(){return rt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(ct.d)(500);case 2:return a.next=4,Object(ct.f)(mt.setIsSlow({actionType:e,fetchKey:t,isSlow:!0}));case 4:case"end":return a.stop()}}),a)}))}var bt=new lt.a({max:500,maxAge:12e4}),ht=Object(ct.b)((function(){})).type;function jt(e){return e&&e.type===ht}function vt(e){var t=e.fetchSaga,a=e.canCache,n=e.getTotalCount,r=void 0===n?function(e){return null===e||void 0===e?void 0:e.totalCount}:n;return rt.a.mark((function e(n){var c,o,l,u,i,s,f,m,d,p,b,h,j,v,g,O,k,w,S,I,P;return rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.type,o=n[C],l=Ot(n),e.next=5,Object(ct.g)((function(e){var t;return(null===(t=e.common.fetchInfo.nextPageMap[c])||void 0===t?void 0:t[l])||0}));case 5:u=e.sent,s=[],f=t(n,i=void 0!==o?o:u);case 9:if(b=f.next(m),h=b.value,j=b.done,!jt(h)||!yt(h.payload.fn)){e.next=15;break}return s.push(f),f=(v=h.payload).fn.apply(v,Object(ze.a)(h.payload.args)),e.abrupt("continue",9);case 15:if(!jt(h)||h.payload.fn!==st){e.next=37;break}return e.next=18,Object(ct.f)(mt.setFetchStatus({actionType:c,fetchKey:l,status:y}));case 18:if(g=h.payload.args[0],O=gt(c,g),k=a&&bt.has(O)?bt.get(O):void 0,w=!!k){e.next=33;break}if(k){e.next=33;break}return e.next=26,Object(ct.e)(pt(c,l));case 26:return d=e.sent,e.next=29,h;case 29:if(k=e.sent,!d){e.next=33;break}return e.next=33,Object(ct.c)(d);case 33:m=k,k&&((S=k.isSuccess)&&a&&!w&&bt.set(O,k),I=r(k),p={actionType:c,fetchKey:l,status:S?E:x,totalCount:I,nextPage:S?i+1:i,errorMessage:S?"":k.resultMessage}),e.next=41;break;case 37:if(void 0===h){e.next=41;break}return e.next=40,h;case 40:m=e.sent;case 41:if(!j){e.next=50;break}if(!(P=s.pop())){e.next=46;break}return f=P,e.abrupt("continue",9);case 46:if(!p){e.next=49;break}return e.next=49,Object(ct.f)(mt.setFetchStatus(p));case 49:return e.abrupt("break",52);case 50:e.next=9;break;case 52:case"end":return e.stop()}}),e)}))}function gt(e,t){var a=t.apiHost,n=t.url,r=t.params,c="".concat(e,"_").concat(a?a+n:n),o=r?Object.keys(r):[];return o.length?c+o.sort().reduce((function(e,t){return"".concat(e,"&").concat(t,"=").concat(r[t])}),""):c}function Ot(e){var t,a=null===(t=e.meta)||void 0===t?void 0:t[S];return void 0===a?e.type:String(a)}function yt(e){var t=e.constructor;if(!t)return!1;if("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)return!0;var a=t.prototype;return"function"===typeof a.next&&"function"===typeof a.throw}function Et(e,t){var a=Ot({type:e,meta:Object(we.a)({},S,t)});return Object(h.d)((function(t){var n,r,c,o,l;return{fetchStatus:null===(n=t.common.fetchInfo.fetchStatusMap[e])||void 0===n?void 0:n[a],isFetching:(null===(r=t.common.fetchInfo.fetchStatusMap[e])||void 0===r?void 0:r[a])===y,isFetched:(null===(c=t.common.fetchInfo.fetchStatusMap[e])||void 0===c?void 0:c[a])===x||(null===(o=t.common.fetchInfo.fetchStatusMap[e])||void 0===o?void 0:o[a])===E,isSlow:!!(null===(l=t.common.fetchInfo.isSlowMap[e])||void 0===l?void 0:l[a])}}),h.b)}function xt(e){var t=e.label,a=Et(e.actionType,e.fetchKey).isSlow;return r.a.createElement(qe.b,null,t,a&&r.a.createElement(at.a,{size:"small"}))}var kt=a(91),wt=a(138),St=a(467),Ct=a(257),It=a(465),Pt=a(475),Mt=a(476);a(436);function Lt(e){var t=e.onMove,a=Object(wt.a)(e,["onMove"]);return r.a.createElement(It.a,{backend:Ct.a},r.a.createElement(St.a,Object.assign({components:{body:{row:Ft}},onRow:function(e,a){return{index:a,onMove:t}}},a)))}function Ft(e){var t=e.index,a=e.onMove,c=e.className,o=e.style,l=Object(wt.a)(e,["index","onMove","className","style"]),u=Object(n.useRef)(),i=Object(Pt.a)({item:{type:Ut,index:t}}),s=Object(kt.a)(i,2)[1],f=Object(Mt.a)({accept:Ut,drop:function(e){e.index!==t&&a(e.index,t)},collect:function(e){var a=(e.getItem()||{}).index;return a===t?{}:{isOver:e.isOver(),dropClassName:a<t?" drop-over-downward":" drop-over-upward"}}}),m=Object(kt.a)(f,2),d=m[0],p=d.isOver,b=d.dropClassName;return(0,m[1])(s(u)),r.a.createElement("tr",Object.assign({ref:u,className:"".concat(c).concat(p?b:""),style:Object(Qe.a)({cursor:"move"},o)},l))}var Ut="draggableTableRow",Tt=(a(220),a(484)),Vt=a(170),Nt=a(477),qt=a(468);function Rt(e){var t=e.onChange,a=e.fileList,c=Object(wt.a)(e,["onChange","fileList"]),o=Object(n.useState)(!1),l=Object(kt.a)(o,2),u=l[0],i=l[1],s=Object(n.useState)(""),f=Object(kt.a)(s,2),m=f[0],d=f[1];return Object(n.useEffect)((function(){if(a){var e,t=Object(kt.a)(a,1)[0];d((null===t||void 0===t?void 0:t.url)||(null===t||void 0===t||null===(e=t.response)||void 0===e?void 0:e.url))}}),[a]),r.a.createElement(qt.a,Object.assign({name:"upload",action:"".concat("","/upload"),accept:"image/*",listType:"picture-card",showUploadList:!1,onChange:function(e){"uploading"===e.file.status?i(!0):"done"===e.file.status&&i(!1),t&&t(e)},fileList:a},c),m?r.a.createElement("img",{alt:"uploaded",src:m,style:{width:"100%"}}):r.a.createElement("div",null,u?r.a.createElement(Ve.a,null):r.a.createElement(Ne.a,null),r.a.createElement("div",{style:{marginTop:8}},B)))}function Kt(){var e=Object(ke.a)(["\n  margin: 0 8px;\n  cursor: pointer;\n  position: relative;\n  top: 4px;\n  font-size: 24px;\n  color: #999;\n  transition: all 0.3s;\n\n  &:hover {\n    color: #777;\n  }\n"]);return Kt=function(){return e},e}function zt(e){var t=e.isNew,a=e.project,c=e.visible,o=e.onCreate,l=e.onCancel,u=d.a.useForm(),i=Object(kt.a)(u,1)[0];Object(n.useEffect)((function(){var e=function(e){return e.id?{id:e.id,thumbnail:Jt(e.thumbnailImageUrl),title:e.title||"",header:e.header||"",quickViewUrl:e.quickViewUrl||"",client:e.client||"",agency:e.agency||"",role:e.role||"",category:e.category||"work",headerImage:Jt(e.headerImageUrl),snapshotColumn:e.snapshotColumn||1,snapshots:Jt(e.snapshotUrls),videoUrls:e.videoUrls||[]}:At}(a);i.setFieldsValue(e)}),[a,i]),Object(n.useEffect)((function(){c||i.resetFields()}),[c,i]);var s=Et(_e.fetchUpdateProject.toString(),a.id).isFetching;return r.a.createElement(Re.a,{title:t?H:G,visible:c,okText:t?W:$,onOk:function(){i.validateFields().then((function(e){!function(e){var t=e.thumbnail,a=e.headerImage,n=e.snapshots;return[].concat(Object(ze.a)(t),Object(ze.a)(a),Object(ze.a)(n||[])).some((function(e){return"uploading"===e.status}))}(e)?o(function(e){var t=e.id,a=e.thumbnail,n=e.title,r=e.header,c=e.quickViewUrl,o=e.client,l=e.agency,u=e.role,i=e.category,s=e.headerImage,f=e.snapshotColumn,m=e.videoUrls,d=e.snapshots,p=Dt(a)[0]||"",b=Dt(s)[0]||"",h=Dt(d);return{id:t,thumbnailImageUrl:p,title:n,header:r,quickViewUrl:c,client:o,agency:l,role:u,category:i,headerImageUrl:b,snapshotColumn:f,videoUrls:m||[],snapshotUrls:h}}(Object(Qe.a)({},e))):Re.a.warn({title:ne})})).catch((function(e){console.log("ProjectForm Validate Failed:",e)}))},cancelText:_,onCancel:function(){Re.a.confirm({title:J,icon:r.a.createElement(Te.a,null),content:D,okText:Q,cancelText:Y,onOk:function(){l()}})},width:1e3,confirmLoading:s,forceRender:!0},r.a.createElement(d.a,Object.assign({form:i,name:"projectForm",initialValues:At,validateMessages:Ht},Wt),r.a.createElement(d.a.Item,{hidden:!0,name:"id"},r.a.createElement(p.a,null)),r.a.createElement(d.a.Item,{label:ce,name:"thumbnail",valuePropName:"fileList",getValueFromEvent:_t({maxLength:1}),rules:[{required:!0}]},r.a.createElement(Rt,null)),r.a.createElement(d.a.Item,{label:re,name:"title",rules:[{required:!0}]},r.a.createElement(p.a,null)),r.a.createElement(d.a.Item,{label:oe,name:"header"},r.a.createElement(p.a.TextArea,null)),r.a.createElement(d.a.Item,{label:le,name:"quickViewUrl"},r.a.createElement(p.a,null)),r.a.createElement(d.a.Item,{label:ue,name:"client"},r.a.createElement(p.a,null)),r.a.createElement(d.a.Item,{label:ie,name:"agency"},r.a.createElement(p.a,null)),r.a.createElement(d.a.Item,{label:se,name:"role"},r.a.createElement(p.a,null)),r.a.createElement(d.a.Item,{label:fe,name:"category"},r.a.createElement(Vt.a.Group,null,r.a.createElement(Vt.a,{value:"work"},"Work"),r.a.createElement(Vt.a,{value:"lab"},"Lab"))),r.a.createElement(d.a.Item,{label:me,name:"headerImage",valuePropName:"fileList",getValueFromEvent:_t({maxLength:1}),rules:[{required:!0}]},r.a.createElement(Rt,{className:"header-uploader"})),r.a.createElement(d.a.List,{name:"videoUrls"},(function(e,t){var a=t.add,n=t.remove;return r.a.createElement(r.a.Fragment,null,e.map((function(e,t){return r.a.createElement(d.a.Item,Object.assign({},0!==t&&{wrapperCol:{span:Bt,offset:Gt}},{label:0===t?de:"",key:e.key}),r.a.createElement(d.a.Item,Object.assign({},e,{noStyle:!0,rules:[{required:!0,whitespace:!0}]}),r.a.createElement(p.a,{style:{width:"60%"}})),r.a.createElement($t,{onClick:function(){return n(e.name)}}))})),r.a.createElement(d.a.Item,{wrapperCol:{span:24}},r.a.createElement(b.a,{type:"dashed",onClick:function(){return a()},icon:r.a.createElement(Ne.a,null),style:{width:"100%"}},X)))})),r.a.createElement(d.a.Item,{label:pe,name:"snapshotColumn",rules:[{required:!0,type:"number",min:1}]},r.a.createElement(Nt.a,null)),r.a.createElement(d.a.Item,{label:be,name:"snapshots",valuePropName:"fileList",getValueFromEvent:_t()},r.a.createElement(qt.a,{accept:"image/*",name:"upload",action:"".concat("","/upload"),listType:"picture-card",multiple:!0},r.a.createElement("div",null,r.a.createElement(Ne.a,null),r.a.createElement("div",{style:{marginTop:8}},B))))))}var At={id:null,category:"work",snapshotColumn:1},Ht={required:Z,whitespace:ee,types:{number:te},number:{min:ae}},Gt=6,Bt=18,Wt={labelCol:{span:Gt},wrapperCol:{span:Bt}},$t=Object(Pe.a)(Tt.a)(Kt());function _t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.maxLength,a=void 0===t?0:t;return function(e){return Array.isArray(e)?e.slice(-1*a):e&&e.fileList.slice(-1*a)}}function Jt(e){if(!e)return[];var t={uid:-1,status:"done",url:""};return Array.isArray(e)?e.map((function(e,a){return Object(Qe.a)(Object(Qe.a)({},t),{},{uid:-1*(a+1),url:e})})):[Object(Qe.a)(Object(Qe.a)({},t),{},{url:e})]}function Dt(e){return e?e.map((function(e){return e.response?e.response.url:e.url?e.url:null})):[]}var Qt,Yt,Xt=[{exact:!0,path:g,component:function(){return r.a.createElement("div",null,"Here dashboard")}},{exact:!1,path:O,component:function(){var e=Object(h.c)(),t=Object(h.d)(et),a=Object(h.d)((function(e){return e.project.showProjectForm})),c=Object(h.d)(Ze),o=Object(h.d)(tt);Object(n.useEffect)((function(){return e(_e.fetchProjectList()),function(){return e(_e.initialize())}}),[e]);var l=Et(_e.fetchCreateProject.toString()).isFetching,u=[{title:re,dataIndex:"title",key:"title"},{title:oe,dataIndex:"header",key:"header",ellipsis:!0},{title:ue,dataIndex:"client",key:"client"},{title:ie,dataIndex:"agency",key:"agency"},{title:se,dataIndex:"role",key:"role",ellipsis:!0},{title:V,key:"action",render:function(t,a){return r.a.createElement(qe.b,null,r.a.createElement(b.a,{size:"small",onClick:function(){e(_e.setValue("currentProjectId",a.id)),e(_e.setValue("showProjectForm",!0))}},N),r.a.createElement(b.a,{danger:!0,size:"small",onClick:function(){return Re.a.confirm({title:R,icon:r.a.createElement(Te.a,null),content:K,okText:z,okType:"danger",cancelText:A,onOk:function(){e(_e.fetchRemoveProject(a))}})}},q))}}];function i(){e(_e.setValue("currentProjectId",null)),e(_e.setValue("showProjectForm",!1))}return r.a.createElement(r.a.Fragment,null,r.a.createElement(Be,null),r.a.createElement(Ke.a,{title:r.a.createElement(qe.b,null,r.a.createElement(xt,{label:U,actionType:_e.fetchProjectList.toString()}),r.a.createElement(xt,{actionType:_e.fetchRemoveProject.toString()}),r.a.createElement(xt,{actionType:_e.fetchMoveProject.toString()})),bordered:!1,style:{margin:24},bodyStyle:{padding:0},extra:r.a.createElement(b.a,{type:"primary",icon:l?r.a.createElement(Ve.a,null):r.a.createElement(Ne.a,null),disabled:l,onClick:function(){return e(_e.fetchCreateProject((function(){e(_e.setValue("showProjectForm",!0))})))}},T)},r.a.createElement(Lt,{columns:u,dataSource:t,pagination:!1,onMove:function(t,a){return e(_e.fetchMoveProject(t,a))}})),r.a.createElement(zt,{isNew:!o,project:o||{id:c},visible:a,onCreate:function(t){return e(_e.fetchUpdateProject({values:t,fetchKey:c,callback:i}))},onCancel:i}))}}];function Zt(e){var t=e.items,a=e.onSelect,n=e.selectedKeys;return r.a.createElement(Le.a,{theme:"dark",selectedKeys:n,onSelect:a},t.map((function(e){return r.a.createElement(Le.a.Item,e)})))}function ea(){var e=Object(ke.a)(["\n  text-align: center;\n"]);return ea=function(){return e},e}function ta(){var e=Object(ke.a)(["\n  margin-left: 200px;\n"]);return ta=function(){return e},e}function aa(){var e=Object(ke.a)(["\n  background: #fff;\n  text-align: right;\n  padding: 0 20px;\n  height: 48px;\n  line-height: 48px;\n"]);return aa=function(){return e},e}function na(){var e=Object(ke.a)(["\n  height: 32px;\n  margin: 16px;\n  color: #fff;\n  text-align: center;\n  font-size: 1.3rem;\n"]);return na=function(){return e},e}function ra(){var e=Object(ke.a)(["\n  overflow: 'auto';\n  height: 100vh;\n  position: fixed;\n  left: 0;\n"]);return ra=function(){return e},e}var ca=(Qt={},Object(we.a)(Qt,g,r.a.createElement(Ce.a,null)),Object(we.a)(Qt,O,r.a.createElement(Ie.a,null)),Qt),oa=(Yt={},Object(we.a)(Yt,g,P),Object(we.a)(Yt,O,M),Yt),la=Xt.map((function(e){return{key:e.path,icon:ca[e.path],children:oa[e.path]}})),ua=Se.a.Content,ia=Object(Pe.a)(Se.a.Sider)(ra()),sa=Pe.a.div(na()),fa=Object(Pe.a)(Se.a.Header)(aa()),ma=Object(Pe.a)(Se.a)(ta()),da=Object(Pe.a)(Se.a.Footer)(ea()),pa=[{exact:!1,path:j,component:function(){!function(){var e=Object(l.f)(),t=Object(h.d)((function(e){return e.auth.status}));Object(n.useEffect)((function(){t===k&&e.replace("/")}),[t,e])}();var e=Object(h.c)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{justify:"center",style:{marginTop:150}},r.a.createElement(f.a,null,r.a.createElement(m.a.Title,null,"Sunghwan Lee"))),r.a.createElement(s.a,{justify:"center",style:{marginTop:50}},r.a.createElement(f.a,null,r.a.createElement(d.a,{name:"login",onFinish:function(t){e(Ee.fetchLogin(t))},style:{width:300}},r.a.createElement(d.a.Item,{name:"email",rules:[{required:!0,message:ge}]},r.a.createElement(p.a,{prefix:r.a.createElement(u.a,null),placeholder:he})),r.a.createElement(d.a.Item,{name:"password",rules:[{required:!0,message:Oe}]},r.a.createElement(p.a,{type:"password",prefix:r.a.createElement(i.a,null),placeholder:je})),r.a.createElement(d.a.Item,null,r.a.createElement(b.a,{type:"primary",htmlType:"submit",style:{width:"100%"}},ve))))))}},{exact:!1,path:v,component:function(){!function(){var e=Object(l.f)(),t=Object(h.d)((function(e){return e.auth.status}));Object(n.useEffect)((function(){t===w&&e.replace("/auth/login")}),[t,e])}();var e=Object(l.f)(),t=Object(l.g)(),a=Object(h.c)(),c=Object(h.d)((function(e){return e.auth.user}));return r.a.createElement(Se.a,null,r.a.createElement(ia,null,r.a.createElement(sa,null,"Sunghwan Lee"),r.a.createElement(Zt,{items:la,onSelect:function(t){var a=t.key;e.push(a)},selectedKeys:[t.pathname]})),r.a.createElement(ma,null,r.a.createElement(fa,null,r.a.createElement(Fe,{name:null===c||void 0===c?void 0:c.name,logout:function(){return a(Ee.fetchLogout())}})),r.a.createElement(ua,null,r.a.createElement(l.c,null,Xt.map((function(e){return r.a.createElement(l.a,Object.assign({key:e.path},e))})))),r.a.createElement(da,null,"Shlee Dashboard \xa92020 Created by mando")))}}];var ba=function(){Object(n.useEffect)((function(){var e=document.body,t=document.getElementById("init-loading");t&&e.removeChild(t)}),[]);var e=Object(h.c)();Object(n.useEffect)((function(){e(Ee.fetchUser())}),[e]);var t=Object(h.d)((function(e){return e.auth.status}));return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(l.c,null,pa.map((function(e){return r.a.createElement(l.a,Object.assign({key:e.path},e))}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ha=a(260),ja=a(264);function va(e,t,a){var n=e[t],r=e.filter((function(e,a){return a!==t}));return[].concat(Object(ze.a)(r.slice(0,a)),[n],Object(ze.a)(r.slice(a)))}var ga=rt.a.mark(wa),Oa=rt.a.mark(Sa),ya=rt.a.mark(Ca),Ea=rt.a.mark(Ia),xa=rt.a.mark(Pa),ka=rt.a.mark(Ma);function wa(){var e,t;return rt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(ct.b)(st,{url:"/project"});case 2:if(e=a.sent,!(t=e.data)){a.next=7;break}return a.next=7,Object(ct.f)(_e.setValue("projectList",t));case 7:case"end":return a.stop()}}),ga)}function Sa(e){var t,a,n,r,c,o;return rt.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.payload,l.next=3,Object(ct.g)(Xe);case 3:return a=l.sent,n=a.filter((function(e){return e.id!==t.id})),l.next=7,Object(ct.f)(_e.setValue("projectList",n));case 7:return l.next=9,Object(ct.b)(st,{method:"delete",url:"/project/".concat(t.id)});case 9:if(r=l.sent,c=r.isSuccess,o=r.errorMessage,c){l.next=16;break}return l.next=15,Object(ct.f)(_e.setValue("projectList",a));case 15:ja.b.error(o);case 16:case"end":return l.stop()}}),Oa)}function Ca(e){var t,a,n,r,c,o;return rt.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.payload,a=t.from,n=t.to,l.next=4,Object(ct.g)(Xe);case 4:return r=l.sent,c=va(r,a,n),l.next=8,Object(ct.f)(_e.setValue("projectList",c));case 8:return l.next=10,Object(ct.a)(c.map((function(e,t){return Object(ct.b)(st,{method:"put",url:"/project/".concat(e.id,"/sort-index"),data:{index:t}})})));case 10:if(!(o=l.sent).some((function(e){return!e.isSuccess}))){l.next=15;break}return l.next=14,Object(ct.f)(_e.setValue("projectList",r));case 14:ja.b.error(o[0].errorMessage);case 15:case"end":return l.stop()}}),ya)}function Ia(e){var t,a,n,r,c;return rt.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,o.next=3,Object(ct.b)(st,{method:"post",url:"/project"});case 3:if(a=o.sent,n=a.isSuccess,r=a.data,c=a.errorMessage,!n||!r){o.next=13;break}return o.next=10,Object(ct.f)(_e.setValue("currentProjectId",r.id));case 10:t.callback&&t.callback(),o.next=14;break;case 13:ja.b.error(c);case 14:case"end":return o.stop()}}),Ea)}function Pa(e){var t,a,n,r,c,o;return rt.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.payload,a=e.meta,l.next=3,Object(ct.b)(st,{method:"put",url:"/project/".concat(t.id),data:Object(Qe.a)({},t)});case 3:if(n=l.sent,r=n.isSuccess,c=n.data,o=n.errorMessage,!r||!c){l.next=21;break}return l.next=10,Object(ct.g)(Xe);case 10:if(!l.sent.some((function(e){return e.id===c.id}))){l.next=16;break}return l.next=14,Object(ct.f)(_e.editProject(c));case 14:l.next=18;break;case 16:return l.next=18,Object(ct.f)(_e.addProject(c));case 18:a.callback&&a.callback(),l.next=22;break;case 21:ja.b.error(o);case 22:case"end":return l.stop()}}),xa)}function Ma(){return rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ct.a)([Object(ct.h)(_e.fetchProjectList,vt({fetchSaga:wa,canCache:!1})),Object(ct.h)(_e.fetchRemoveProject,vt({fetchSaga:Sa,canCache:!1})),Object(ct.h)(_e.fetchMoveProject,vt({fetchSaga:Ca,canCache:!1})),Object(ct.h)(_e.fetchCreateProject,vt({fetchSaga:Ia,canCache:!1})),Object(ct.h)(_e.fetchUpdateProject,vt({fetchSaga:Pa,canCache:!1}))]);case 2:case"end":return e.stop()}}),ka)}var La=rt.a.mark(Va),Fa=rt.a.mark(Na),Ua=rt.a.mark(qa),Ta=rt.a.mark(Ra);function Va(e){var t,a,n,r,c;return rt.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,o.next=3,Object(ct.b)(st,{method:"post",url:"/auth/login",data:t});case 3:if(a=o.sent,n=a.isSuccess,r=a.errorMessage,c=a.data,!n||!c){o.next=12;break}return o.next=10,Object(ct.f)(Ee.setUser(c));case 10:o.next=13;break;case 12:ja.b.error(r);case 13:case"end":return o.stop()}}),La)}function Na(){var e,t,a;return rt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(ct.b)(st,{url:"/auth/logout"});case 2:if(e=n.sent,t=e.isSuccess,a=e.errorMessage,!t){n.next=10;break}return n.next=8,Object(ct.f)(Ee.setUser(null));case 8:n.next=11;break;case 10:ja.b.error(a);case 11:case"end":return n.stop()}}),Fa)}function qa(){var e,t,a,n;return rt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(ct.b)(st,{url:"/auth/user"});case 2:if(e=r.sent,t=e.isSuccess,a=e.data,n=e.errorMessage,!t){r.next=11;break}return r.next=9,Object(ct.f)(Ee.setUser(a));case 9:r.next=12;break;case 11:ja.b.error(n);case 12:case"end":return r.stop()}}),Ua)}function Ra(){return rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ct.a)([Object(ct.h)(Ee.fetchLogin,vt({fetchSaga:Va,canCache:!1})),Object(ct.h)(Ee.fetchLogout,vt({fetchSaga:Na,canCache:!1})),Object(ct.h)(Ee.fetchUser,vt({fetchSaga:qa,canCache:!1}))]);case 2:case"end":return e.stop()}}),Ta)}var Ka=rt.a.mark(Ga),za={project:De,common:dt,auth:xe},Aa=Object(ha.a)(),Ha=Object(ye.a)({reducer:za,middleware:function(e){return e().concat(Aa)},devTools:!1});function Ga(){return rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ct.a)([Ma(),Ra()]);case 2:case"end":return e.stop()}}),Ka)}Aa.run(Ga);var Ba=Ha;o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(h.a,{store:Ba},r.a.createElement(He.a,{basename:"/dashboard"},r.a.createElement(ba,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[268,1,2]]]);
//# sourceMappingURL=main.8e192389.chunk.js.map